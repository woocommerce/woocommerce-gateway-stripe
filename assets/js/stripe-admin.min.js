jQuery(function(n){"use strict";var e={isTestMode:function(){return n("#woocommerce_stripe_testmode").is(":checked")},getSecretKey:function(){return(e.isTestMode()?n("#woocommerce_stripe_test_secret_key"):n("#woocommerce_stripe_secret_key")).val()},init:function(){n(document.body).on("change","#woocommerce_stripe_testmode",function(){var e=n("#woocommerce_stripe_test_secret_key").parents("tr").eq(0),t=n("#woocommerce_stripe_test_publishable_key").parents("tr").eq(0),o=n("#woocommerce_stripe_test_webhook_secret").parents("tr").eq(0),s=n("#woocommerce_stripe_secret_key").parents("tr").eq(0),c=n("#woocommerce_stripe_publishable_key").parents("tr").eq(0),r=n("#woocommerce_stripe_webhook_secret").parents("tr").eq(0);n(this).is(":checked")?(e.show(),t.show(),o.show(),s.hide(),c.hide(),r.hide()):(e.hide(),t.hide(),o.hide(),s.show(),c.show(),r.show())}),n("#woocommerce_stripe_testmode").trigger("change"),n("#woocommerce_stripe_payment_request").on("change",function(){n(this).is(":checked")?n("#woocommerce_stripe_payment_request_button_theme, #woocommerce_stripe_payment_request_button_type, #woocommerce_stripe_payment_request_button_locations, #woocommerce_stripe_payment_request_button_size, #woocommerce_stripe_payment_request_button_height").closest("tr").show():n("#woocommerce_stripe_payment_request_button_theme, #woocommerce_stripe_payment_request_button_type, #woocommerce_stripe_payment_request_button_locations, #woocommerce_stripe_payment_request_button_size, #woocommerce_stripe_payment_request_button_height").closest("tr").hide()}).trigger("change"),n("#woocommerce_stripe_payment_request_button_type").on("change",function(){"custom"===n(this).val()?n("#woocommerce_stripe_payment_request_button_label").closest("tr").show():n("#woocommerce_stripe_payment_request_button_label").closest("tr").hide()}).trigger("change"),n("#woocommerce_stripe_payment_request_button_type").on("change",function(){"branded"===n(this).val()?n("#woocommerce_stripe_payment_request_button_branded_type").closest("tr").show():n("#woocommerce_stripe_payment_request_button_branded_type").closest("tr").hide()}).trigger("change"),n(".wc-stripe-3ds-missing").each(function(){var e=n(this);e.find(".notice-dismiss").on("click.wc-stripe-dismiss-notice",function(){n.ajax({type:"head",url:window.location.href+"&stripe_dismiss_3ds="+e.data("nonce")})})}),n("#woocommerce_stripe_test_secret_key, #woocommerce_stripe_secret_key, #woocommerce_stripe_test_webhook_secret, #woocommerce_stripe_webhook_secret").after('<button class="wc-stripe-toggle-secret" style="height: 30px; margin-left: 2px; cursor: pointer"><span class="dashicons dashicons-visibility"></span></button>'),n(".wc-stripe-toggle-secret").on("click",function(e){e.preventDefault();var t=n(this).closest("button").find(".dashicons"),e=n(this).closest("tr").find(".input-text");"text"==e.attr("type")?(e.attr("type","password"),t.removeClass("dashicons-hidden"),t.addClass("dashicons-visibility")):(e.attr("type","text"),t.removeClass("dashicons-visibility"),t.addClass("dashicons-hidden"))}),n("form").find("input, select").on("change input",function e(){n("#wc_stripe_connect_button").addClass("disabled"),n("#wc_stripe_connect_button").on("click",function(){return!1}),n("#woocommerce_stripe_api_credentials").next("p").append(" (Please save changes before selecting this button.)"),n("form").find("input, select").off("change input",e)}),n(".wc_gateways").on("click",".wc-payment-upe-method-toggle-enabled, .wc-payment-upe-method-toggle-disabled",function(){var e=n(this).find(".woocommerce-input-toggle");return e.toggleClass("woocommerce-input-toggle--enabled  woocommerce-input-toggle--disabled"),e.parent().toggleClass("wc-payment-upe-method-toggle-enabled  wc-payment-upe-method-toggle-disabled"),n("#wc_stripe_upe_change_notice").removeClass("hidden"),!1}),n("#mainform").submit(function(){var e=n(this);n(".wc_gateways .wc-payment-upe-method-toggle-enabled").each(function(){e.append('<input type="hidden" name="woocommerce_stripe_upe_checkout_experience_accepted_payments[]" value="'+n(this).closest("tr").data("upe_method_id")+'" />')})});var e=Date.now()/1e3-wc_stripe_settings_params.time;240<Math.abs(e)&&n("#woocommerce_stripe_test_webhook_secret, #woocommerce_stripe_webhook_secret").closest("td").append("<p>"+wc_stripe_settings_params.i18n_out_of_sync+"</p>")}};e.init()});
